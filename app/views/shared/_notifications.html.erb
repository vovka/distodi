<div ng-init="notifyController.unreadNotificationsCount = <%= @notifications.count %>;" ng-controller="NotificationsController as notifyController" class="notify-panel">
  <a href="#" ng-click="notifyController.showNotificationsWindow()" class="notify-link">
    <span class="notify-count <%= @notifications.count == 0 ? 'notify-count_hidden' : '' %>">{{notifyController.unreadNotificationsCount}}</span>
  </a>
  <%#
    <!-- TODO: убрать img тэг, картинку навесить стилями на a -->
    <!-- <a href="#"><%= image_tag "search.png" %-></a> -->
  %>
  <div class="alarm-notifications popup-animation" ng-class="notifyController.showNotificationWindow ? 'active' : ''">
    <div class="notifications-header">
      <h3 class="header-title"> <%= t(".header_title") %> </h3>
    </div>
      <ul class="notifications-list">
         <% if @notifications.count == 0 %>
           <p class="notify-description"> <%= t(".no_notifications") %> </p>
         <% else %>
           <% @notifications.each do |notification| %>
              <li class="list-item">
                <a href="#" ng-click='notifyController.getNotifications(<%= notification.id %>, $event)'><%= notification.message %></a>
              </li>
           <% end %>
         <% end %>
      </ul>
  </div>
</div>